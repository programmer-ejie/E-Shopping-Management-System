<?php
session_start();
include("../connection/conn.php");


// ItemsSearchInTheCurrentShopForMobile


    // mao ne ang mag pa display sa items sa home php kung unsay ge search
    if (isset($_POST['searchItems']) && $_POST['searchItems'] == true){

        $value = $_POST['searchValue'];

        if($value == null){
          // if walay value ang search bar

            $getAllItems = "SELECT * FROM items ORDER BY id DESC";
            $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

            $counToRow = 0;

            $div = '<div class = "row">';

            while($get = mysqli_fetch_assoc($queryForItems)){

              $counToRow ++;

                $picInDb = $get['img'];
                $itemId = $get['id'];
                $itemName = $get['item_name'];
                $itemPrice = $get['item_price'];

                $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
                $check = mysqli_query($connforMyOnlineDb,$selectAllRatingCondition);
    
              
                $totalnumberofrating = 0;
                $totaluserRate = 0;
    
                while($test = mysqli_fetch_assoc($check)){
    
                  
                      $totaluserRate++;
                      $totalnumberofrating+=$test['rate'];
                      
    
                }
    
               if($totalnumberofrating == 0){
                    $rateOfanItem = 0;
               }else{
                    $rateOfanItem = round($totalnumberofrating / $totaluserRate,1);
               }
               

             
                $div.='
                <div class="col-md-3">
                <div class="card" style="width: 15rem; height: 25rem;  margin:10px; box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                <img src='.$picInDb.' class="card-img-top">
                <div class="card-body">
            
                  <h5 class="card-title" style = "display:flex; justify-content: center; font-size: 30px;">'.$itemPrice.'</h5>
                  <p class="card-text" style = "display:flex; justify-content: center;">'.$itemName.'</p>
                 
                  <a href = "rating_analysis.php?item_id='.$itemId.'">
                  <div style ="font-size: 25px; position: absolute; top: 240px;">';  

                                  if($rateOfanItem == 1){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                    </svg>';
                                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                </svg>';
                                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                            </svg>';
                                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>';
                                  }else if($rateOfanItem >= 1.1 && $rateOfanItem <= 1.9){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                                <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
                              </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';

                                  }else if ($rateOfanItem == 2){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                </svg>';
                                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                            </svg>';
                                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>';
                                  }else if($rateOfanItem >= 2.1 && $rateOfanItem <= 2.9){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                            <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
                          </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                 
                                  }else if($rateOfanItem == 3){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';

                                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg>';
                                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>';
                                  } else if ($rateOfanItem >= 3.1 && $rateOfanItem <= 3.9){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                        <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
                      </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                               
                                  }else if($rateOfanItem == 4){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                  } else if($rateOfanItem >= 4.1 && $rateOfanItem <= 4.9){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                    <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
                  </svg>';
                                 
                                  }else if($rateOfanItem == 5){
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                    
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                                  }
                           

                                if($rateOfanItem == 0) {
                                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                                  </svg>';
                                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                                  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                              </svg>';
                                              $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                          </svg>';
                                          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                      </svg>';
                                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>';
                        }
                

                  $div.='
                    </div>
                    </a>';

                
               $div.=' 
                <a href="../Buyer/cartInfo.php?id='.$itemId.'" class="btn btn-primary" style = "width:220px; position: absolute; bottom: 10px; left: 10px;">
                <div style = "margin-left: 30px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-cart2" viewBox="0 0 16 16" style = "position: absolute; left: 30px; top: 2px;">
                <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l1.25 5h8.22l1.25-5zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"/>
                </svg>
                  Add To Cart 
                </div>
                
                </a>
              
                  </div>
              </div>
              </div>
                
                
                ';

              
                if($counToRow % 4 == 0){
                  $div .= '</div>'; // Close current row
                  $div .= '<div class="row">'; // Start new row
                }
            }


            
            $div.='</div>';
            echo $div;
    
            
        }else{

          // if naay value ang search bar

          $getAllItems = "SELECT * FROM items WHERE item_name LIKE '%$value%' ORDER BY id DESC";
          $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

          $counToRow = 0;

          $div = '<div class = "row">';

          while($get = mysqli_fetch_assoc($queryForItems)){

            $counToRow ++;

                $picInDb = $get['img'];
                $itemId = $get['id'];
                $itemName = $get['item_name'];
                $itemPrice = $get['item_price'];

                $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
                $check = mysqli_query($connforMyOnlineDb,$selectAllRatingCondition);
    
              
                $totalnumberofrating = 0;
                $totaluserRate = 0;
    
                while($test = mysqli_fetch_assoc($check)){
    
                  
                      $totaluserRate++;
                      $totalnumberofrating+=$test['rate'];
                      
    
                }
    
               if($totalnumberofrating == 0){
                    $rateOfanItem = 0;
               }else{
                    $rateOfanItem = round($totalnumberofrating / $totaluserRate,1);
               }

             
                $div.='
                <div class="col-md-3">
                <div class="card" style="width: 15rem; height: 25rem;  margin:10px; box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                <img src='.$picInDb.' class="card-img-top">
                <div class="card-body">
                  <h5 class="card-title" style = "display:flex; justify-content: center; font-size: 30px;">'.$itemPrice.'</h5>
                  <p class="card-text" style = "display:flex; justify-content: center;">'.$itemName.'</p>
                  
                  <a href = "rating_analysis.php?item_id='.$itemId.'">
                  <div style ="font-size: 25px; position: absolute; top: 240px;">';


                          
                            
                  if($rateOfanItem == 1){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>';
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                  }else if($rateOfanItem >= 1.1 && $rateOfanItem <= 1.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
              </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';

                  }else if ($rateOfanItem == 2){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                  }else if($rateOfanItem >= 2.1 && $rateOfanItem <= 2.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
            <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
          </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                 
                  }else if($rateOfanItem == 3){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';

                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                  } else if ($rateOfanItem >= 3.1 && $rateOfanItem <= 3.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
        <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
      </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
               
                  }else if($rateOfanItem == 4){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                  } else if($rateOfanItem >= 4.1 && $rateOfanItem <= 4.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
    <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
  </svg>';
                 
                  }else if($rateOfanItem == 5){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
                  }
           

                if($rateOfanItem == 0) {
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                              </svg>';
                              $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                          </svg>';
                          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                      </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
        }
                

                  $div.='
                    </div>
                    </a>';

                
               $div.=' 
                <a href="../Buyer/cartInfo.php?id='.$itemId.'" class="btn btn-primary" style = "width:220px; position: absolute; bottom: 10px; left: 10px;">
                <div style = "margin-left: 30px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-cart2" viewBox="0 0 16 16" style = "position: absolute; left: 30px; top: 2px;">
                <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l1.25 5h8.22l1.25-5zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"/>
                </svg>
                  Add To Cart 
                </div>
                
                </a>
              
                  </div>
              </div>
              </div>
                
                
                ';

              
                if($counToRow % 4 == 0){
                  $div .= '</div>'; // Close current row
                  $div .= '<div class="row">'; // Start new row
                }
            }


            
            $div.='</div>';
            echo $div;
        }


     

      

    }

    // searchItemsForMobile

    //now
    if (isset($_POST['searchItemsForMobile']) && $_POST['searchItemsForMobile'] == true){ 

      $value = $_POST['searchValue'];

      if($value == null){
        // if walay value ang search bar

        $getAllItems = "SELECT * FROM items ORDER BY id DESC";
        $queryForItems = mysqli_query($connforMyOnlineDb, $getAllItems);
        
        $itemCount = 0;
        
        // Start the container div
        $div = '<div class="row">';
        
        while ($get = mysqli_fetch_assoc($queryForItems)) {
            $itemCount++;
        
            $picInDb = $get['img'];
            $itemName = $get['item_name'];
            $itemId = $get['id'];
        
            $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
            $check = mysqli_query($connforMyOnlineDb, $selectAllRatingCondition);
        
            $totalnumberofrating = 0;
            $totaluserRate = 0;
        
            while ($test = mysqli_fetch_assoc($check)) {
                $totaluserRate++;
                $totalnumberofrating += $test['rate'];
            }
        
            if ($totaluserRate == 0) {
                $rateOfanItem = 0;
            } else {
                $rateOfanItem = round($totalnumberofrating / $totaluserRate, 1);
            }
        
            $div .= '
            <div class="col-md-3" style = "width:150px; margin:10px;"> <!-- Each item occupies 6 columns in a 12-column grid system -->
                <a href="../Buyer/cartInfo.php?id='.$itemId.'" style="text-decoration: none; color: black;"> <!-- Anchor tag -->
                    <div class="card" style="width: 150px; height: 200px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                        <img src="' . $picInDb . '" class="card-img-top" style="width: 150px; height:150px;">
                        <div class="card-body">
                            <p class="card-text" style="display:flex; justify-content: center; font-size: 10px;">' . $itemName . '</p>
                        </div>
                    </div>
                </a> <!-- Closing anchor tag -->
            </div>
            ';
        
            if ($itemCount % 2 == 0) {
                // Close the current row and start a new one
                $div .= '</div><div class="row">';
            }
        }
        
        // Close the container div
        $div .= '</div>';
        
        echo $div;
        
          
      }else{

        // if naay value ang search bar

        $getAllItems = "SELECT * FROM items WHERE item_name LIKE '%$value%' ORDER BY id DESC";
        $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

        $itemCount = 0;
        
        // Start the container div
        $div = '<div class="row">';
        
        while ($get = mysqli_fetch_assoc($queryForItems)) {
            $itemCount++;
        
            $picInDb = $get['img'];
            $itemName = $get['item_name'];
            $itemId = $get['id'];
        
            $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
            $check = mysqli_query($connforMyOnlineDb, $selectAllRatingCondition);
        
            $totalnumberofrating = 0;
            $totaluserRate = 0;
        
            while ($test = mysqli_fetch_assoc($check)) {
                $totaluserRate++;
                $totalnumberofrating += $test['rate'];
            }
        
            if ($totaluserRate == 0) {
                $rateOfanItem = 0;
            } else {
                $rateOfanItem = round($totalnumberofrating / $totaluserRate, 1);
            }
        
            $div .= '
            <div class="col-md-3" style = "width:150px; margin:10px;"> <!-- Each item occupies 6 columns in a 12-column grid system -->
                <a href="../Buyer/cartInfo.php?id='.$itemId.'" style="text-decoration: none; color: black;"> <!-- Anchor tag -->
                    <div class="card" style="width: 150px; height: 200px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                        <img src="' . $picInDb . '" class="card-img-top" style="width: 150px; height:150px;">
                        <div class="card-body">
                            <p class="card-text" style="display:flex; justify-content: center; font-size: 10px;">' . $itemName . '</p>
                        </div>
                    </div>
                </a> <!-- Closing anchor tag -->
            </div>
            ';
        
            if ($itemCount % 2 == 0) {
                // Close the current row and start a new one
                $div .= '</div><div class="row">';
            }
        }
        
        // Close the container div
        $div .= '</div>';
        
        echo $div;
      }


   

    

  }


    // para ma butangan ug information ang mga inputs sa profile php
  if(isset($_POST['EditInformationOfTheSaidProfileAccount'])){
    $buyerUsername = $_POST['EditInformationOfTheSaidProfileAccount'];

    $sql = "SELECT * FROM buyer_account WHERE username = '$buyerUsername' ";
    $result = mysqli_query($connForMyDatabase,$sql);
    $response = array();

    while($row = mysqli_fetch_assoc($result)){
        $response = $row;
    }

    echo json_encode($response);
}else{
    $response['status'] =   200;
    $response['message'] = "Invalid or Data Information!";
}



// mao ne query for editing profile information sa profile.php
if(isset($_POST['EditClicked'])){
      
  $BuyerFullname = $_POST['BuyerFullname'];
  $BuyerAge = $_POST['BuyerAge'];
  $BuyerNumber = $_POST['BuyerNumber'];
  $BuyerLocation = $_POST['BuyerLocation'];
  if(empty($_POST['BuyerPic']) || $_POST['BuyerPic'] == null){
    $BuyerPic = "../profile_picture/default.jpg";
  }else{
    
    $BuyerPic = "../profile_picture/".$_POST['BuyerPic'];
  }
  $SelectedUserNameTObeEdited = $_POST['SelectedUserNameTObeEdited'];

  $sql = "UPDATE buyer_account SET fullname = '$BuyerFullname', age = '$BuyerAge', location = '$BuyerLocation', profile_pic = '$BuyerPic' , number = '$BuyerNumber' WHERE username = '$SelectedUserNameTObeEdited'";
  mysqli_query($connForMyDatabase, $sql);
}




// list of shop sa Buyer
if(isset($_POST['ListOfShop'])){

 
  
  $queryToGetAllCreatedStore = "SELECT * FROM shop ORDER BY id DESC";
  $query = mysqli_query($connForMyDatabase,$queryToGetAllCreatedStore);


  $counToRow = 0;

  $div = '<div class = "row" style = "margin-left: 40px;">';

  while($get = mysqli_fetch_assoc($query)){

          $counToRow ++;

            $picInDb = $get['shop_pic'];
            $shopname = $get['shop_name'];
            $shop_contact = $get['shop_contactNo'];

            $div.='
            <div class="col-md-3">
            <div class="card" style="width: 15rem; margin: 10px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
            <img src='.$picInDb.' class="card-img-top">
            <div class="card-body">
              <h5 class="card-title" style = "display: flex; justify-content: center; color: rgb(114, 111, 111);">'.$shopname.'</h5>
              <h6 class="card-text"  style = "display: flex; justify-content: center; color: rgb(114, 111, 111);"> '.$shop_contact.' </h6>
              <a href="../Buyer/shopDetail.php?shopName='.$shopname.'" class="btn btn-primary" style = "width:200px;">Visit Store</a>
            
              </div>
          </div>
          </div>
            
            
            ';

          
            if($counToRow % 4 == 0){
              $div .= '</div>'; // Close current row
              $div .= '<div class="row" style = "margin-left: 40px;">'; // Start new row
            }
        }


        
        $div.='</div>';
        echo $div;


}

// list of shop sa Buyer
if(isset($_POST['ListOfShopMobile'])){

 
  
    $queryToGetAllCreatedStore = "SELECT * FROM shop ORDER BY id DESC";
    $query = mysqli_query($connForMyDatabase,$queryToGetAllCreatedStore);
  
  
    $itemCount = 0;
  
    $div = '<div class = "row">';
  
    while($get = mysqli_fetch_assoc($query)){
  
            $itemCount ++;
  
              $picInDb = $get['shop_pic'];
              $shopname = $get['shop_name'];
              $shop_contact = $get['shop_contactNo'];
  
              $div.='
              <div class="col-md-3" style = "width:170px; margin:5px;">
              <a href="../Buyer/shopDetail.php?shopName='.$shopname.'" style = "text-decoration:none;">
              <div class="card" sstyle="width: 350px; height: 300px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
              <img src='.$picInDb.' class="card-img-top">
              <div class="card-body">
                <h5 class="card-title" style = "display: flex; justify-content: center; color: rgb(114, 111, 111); font-size: 12px; font-weight:bolder;">'.$shopname.'</h5>
                <h6 class="card-text"  style = "display: flex; justify-content: center; color: rgb(114, 111, 111);"> '.$shop_contact.' </h6>
                
              
                </div>
                </a>
            </div>
            </div>
              
              
              ';
  
            
              if ($itemCount % 2 == 0) {
                // Close the current row and start a new one
                $div .= '</div><div class="row">';
            }
          }
  
  
          
           // Close the container div
        $div .= '</div>';
        
        echo $div;
  
  
  }

if(isset($_POST['addtoCart']) && $_POST['addtoCart'] == true){

  $itemName = $_POST['itemName'];
  $itemPrice = $_POST['itemPrice'];
  $itemShop = $_POST['itemShop'];
  $itemSeller = $_POST['itemSeller'];
  $BuyerFullname = $_POST['BuyerFullname'];
  $BuyerLocation = $_POST['BuyerLocation'];
  $BuyerAge = $_POST['BuyerAge'];
  $BuyerId = $_POST['BuyerId'];
  $BuyerNumber = $_POST['BuyerNumber'];
  $SellerId = $_POST['SellerId'];

  $sql = "INSERT INTO cart_pending (item_name,item_price,item_source,buyer_fullname,buyer_location,buyer_age,seller,BuyerId,SellerId,number) VALUES ('$itemName','$itemPrice','$itemShop','$BuyerFullname','$BuyerLocation','$BuyerAge','$itemSeller','$BuyerId','$SellerId',$BuyerNumber)";
  mysqli_query($connforMyOnlineDb,$sql);

}



   // mao ne ang mag pa display sa items sa shopDetail php kung unsay ge search
   if (isset($_POST['ItemsSearchInTheCurrentShop']) && $_POST['ItemsSearchInTheCurrentShop'] == true){

    $value = $_POST['ItemSearchValue'];
    $currentlySelectedShop = $_POST['SelectedShop'];


    if($value == null){
      // if walay value ang search bar

        $getAllItems = "SELECT * FROM items WHERE item_source = '$currentlySelectedShop' ORDER BY id DESC";
        $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

        $counToRow = 0;

        $div = '<div class = "row">';

        while($get = mysqli_fetch_assoc($queryForItems)){

          $counToRow ++;

            $picInDb = $get['img'];
            $itemPrice = $get['item_price'];
            $itemName = $get['item_name'];

            $itemId = $get['id'];

            $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
            $check = mysqli_query($connforMyOnlineDb,$selectAllRatingCondition);

          
            $totalnumberofrating = 0;
            $totaluserRate = 0;

            while($test = mysqli_fetch_assoc($check)){

              
                  $totaluserRate++;
                  $totalnumberofrating+=$test['rate'];
                  

            }

           if($totalnumberofrating == 0){
                $rateOfanItem = 0;
           }else{
                $rateOfanItem = round($totalnumberofrating / $totaluserRate,1);
           }
            
           

            $div.='
            <div class="col-md-3">
            <div class="card" style="width: 15rem; height:25rem; margin: 10px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
            <img src='.$picInDb.' class="card-img-top">
            <div class="card-body">

            <a href = "rating_analysis.php?item_id='.$itemId.'">
            <div style ="font-size: 25px; position: absolute; top: 240px;">';


                          
                            
                  if($rateOfanItem == 1){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg>';
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                  }else if($rateOfanItem >= 1.1 && $rateOfanItem <= 1.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
                <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
              </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';

                  }else if ($rateOfanItem == 2){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                  }else if($rateOfanItem >= 2.1 && $rateOfanItem <= 2.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
            <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
          </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                 
                  }else if($rateOfanItem == 3){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';

                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                  } else if ($rateOfanItem >= 3.1 && $rateOfanItem <= 3.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
        <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
      </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
               
                  }else if($rateOfanItem == 4){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                  } else if($rateOfanItem >= 4.1 && $rateOfanItem <= 4.9){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
    <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
  </svg>';
                 
                  }else if($rateOfanItem == 5){
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
                  }
           

                if($rateOfanItem == 0) {
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                  </svg>';
                                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                              </svg>';
                              $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                          </svg>';
                          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                      </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
        }
                

                  $div.='
                    </div>
                    </a>';

            
            $div.='
              <h5 class="card-title" style = "display:flex; justify-content: center; font-size: 30px;">'.$itemPrice.'</h5>
              <p class="card-text" style = "display:flex; justify-content: center;">'.$itemName.'</p>
              <a href = "../Buyer/cartInfo.php?id='.$itemId.'" class = "btn btn-primary" style = "position: absolute; bottom: 10px;width: 200px; box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">Show Item</a>
              
              
            </div>
          </div>
          </div>
            
            
            ';

          
            if($counToRow % 4 == 0){
              $div .= '</div>'; // Close current row
              $div .= '<div class="row">'; // Start new row
            }
        }


        
        $div.='</div>';
        echo $div;

        
    }else{

      // if naay value ang search bar

      $getAllItems = "SELECT * FROM items WHERE item_name LIKE '%$value%' AND item_source = '$currentlySelectedShop' ORDER BY id DESC";
      $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

      $counToRow = 0;

      $div = '<div class = "row">';

      while($get = mysqli_fetch_assoc($queryForItems)){

        $counToRow ++;

          $picInDb = $get['img'];
          $itemPrice = $get['item_price'];
          $itemName = $get['item_name'];

          $itemId = $get['id'];

          $selectAllRatingCondition = "SELECT * FROM irate_ratings WHERE item_id = $itemId";
          $check = mysqli_query($connforMyOnlineDb,$selectAllRatingCondition);

        
          $totalnumberofrating = 0;
          $totaluserRate = 0;

          while($test = mysqli_fetch_assoc($check)){

            
                $totaluserRate++;
                $totalnumberofrating+=$test['rate'];
                

          }

         if($totalnumberofrating == 0){
              $rateOfanItem = 0;
         }else{
              $rateOfanItem = round($totalnumberofrating / $totaluserRate,1);
         }
         

          $div.='
          <div class="col-md-3">
          <div class="card" style="width: 15rem; height:25rem; margin: 10px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
          <img src='.$picInDb.' class="card-img-top">
          <div class="card-body">

          <a href = "rating_analysis.php?item_id='.$itemId.'">
          <div style ="font-size: 25px; position: absolute; top: 240px;">';


                          
                            
          if($rateOfanItem == 1){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
                                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                            </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
          }else if($rateOfanItem >= 1.1 && $rateOfanItem <= 1.9){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
        <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
      </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';

          }else if ($rateOfanItem == 2){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
                            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>';
                        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                    </svg>';
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
          }else if($rateOfanItem >= 2.1 && $rateOfanItem <= 2.9){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
    <path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
  </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
         
          }else if($rateOfanItem == 3){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';

                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
          } else if ($rateOfanItem >= 3.1 && $rateOfanItem <= 3.9){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
$div.= '    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
<path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
</svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
       
          }else if($rateOfanItem == 4){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>';
          
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
          } else if($rateOfanItem >= 4.1 && $rateOfanItem <= 4.9){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
$div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
$div.= '    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-half" viewBox="0 0 16 16">
<path d="M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"/>
</svg>';
         
          }else if($rateOfanItem == 5){
            $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>';
        $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>';
    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
$div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';

$div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="yellow" class="bi bi-star-fill" viewBox="0 0 16 16">
<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
</svg>';
          }
   

        if($rateOfanItem == 0) {
                    $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                              <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                          </svg>';
                          $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                      </svg>';
                      $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>';
                  $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                  <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
              </svg>';
                $div.= '<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="gray" class="bi bi-star" viewBox="0 0 16 16">
                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
            </svg>';
}
        

          $div.='
            </div>
            </a>


              <h5 class="card-title" style = "display:flex; justify-content: center; font-size: 30px;">'.$itemPrice.'</h5>
              <p class="card-text" style = "display:flex; justify-content: center;">'.$itemName.'</p>
              <a href = "cartInfo.php?id='.$itemId.'" class = "btn btn-danger" style = "position: absolute; bottom: 10px;width: 200px; box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">Show Item</a>
              
          </div>
        </div>
        </div>
          
          
          ';

        
          if($counToRow % 4 == 0){
            $div .= '</div>'; // Close current row
            $div .= '<div class="row">'; // Start new row
          }
      }


      
      $div.='</div>';
      echo $div;
    }


}


//para ni sa ShopDetail pero sa mobile version!

if (isset($_POST['ItemsSearchInTheCurrentShopForMobile']) && $_POST['ItemsSearchInTheCurrentShopForMobile'] == true){

    $value = $_POST['ItemSearchValue'];
    $currentlySelectedShop = $_POST['SelectedShop'];


    if($value == null){
      // if walay value ang search bar

        $getAllItems = "SELECT * FROM items WHERE item_source = '$currentlySelectedShop' ORDER BY id DESC";
        $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

        $itemCount = 0;

        $div = '<div class = "row">';

        while($get = mysqli_fetch_assoc($queryForItems)){

          $itemCount ++;

            $picInDb = $get['img'];
            $itemPrice = $get['item_price'];
            $itemName = $get['item_name'];

            $itemId = $get['id'];

         
            
           

            $div.='
            <div class="col-md-3" style = "width:150px; margin:10px;"> <!-- Each item occupies 6 columns in a 12-column grid system -->
                <a href="../Buyer/cartInfo.php?id='.$itemId.'" style="text-decoration: none; color: black;"> <!-- Anchor tag -->
                    <div class="card" style="width: 150px; height: 200px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                        <img src="' . $picInDb . '" class="card-img-top" style="width: 150px; height:150px;">
                        <div class="card-body">
                            <p class="card-text" style="display:flex; justify-content: center; font-size: 10px;">' . $itemName . '</p>
                        </div>
                    </div>
                </a> <!-- Closing anchor tag -->
            </div>
            
            
            ';

          
            if ($itemCount % 2 == 0) {
                // Close the current row and start a new one
                $div .= '</div><div class="row">';
            }
        }


        
        $div.='</div>';
        echo $div;

        
    }else{

      // if naay value ang search bar

      $getAllItems = "SELECT * FROM items WHERE item_name LIKE '%$value%' AND item_source = '$currentlySelectedShop' ";
      $queryForItems = mysqli_query($connforMyOnlineDb,$getAllItems);

      $itemCount = 0;

      $div = '<div class = "row">';

      while($get = mysqli_fetch_assoc($queryForItems)){

        $itemCount ++;

          $picInDb = $get['img'];
          $itemPrice = $get['item_price'];
          $itemName = $get['item_name'];

          $itemId = $get['id'];

       
          
         

          $div.='
          <div class="col-md-3" style = "width:150px; margin:10px;"> <!-- Each item occupies 6 columns in a 12-column grid system -->
              <a href="../Buyer/cartInfo.php?id='.$itemId.'" style="text-decoration: none; color: black;"> <!-- Anchor tag -->
                  <div class="card" style="width: 150px; height: 200px;  box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                      <img src="' . $picInDb . '" class="card-img-top" style="width: 150px; height:150px;">
                      <div class="card-body">
                          <p class="card-text" style="display:flex; justify-content: center; font-size: 10px;">' . $itemName . '</p>
                      </div>
                  </div>
              </a> <!-- Closing anchor tag -->
          </div>
          
          
          ';

        
          if ($itemCount % 2 == 0) {
              // Close the current row and start a new one
              $div .= '</div><div class="row">';
          }
      }


      
      $div.='</div>';
      echo $div;
    }


}




  // para ni sa cart para ma display

    if(isset($_POST['displayCart']) && $_POST['displayCart'] == true){

        echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
        $table = '<table class="table table-bordered table-hover">
                <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
                <tr> 
                    <th scope="col" class="text-center align-middle">Item Name</th>
                    <th scope="col" class="text-center align-middle">Item Price</th>
                    <th scope="col" class="text-center align-middle">Item Source</th>
                    <th scope="col" class="text-center align-middle">Buyer Gcash Number</th>
                    <th scope="col" class="text-center align-middle">Action</th>
                </tr>
                </thead>
                <tbody>';

                $BuyerId =  $_SESSION['id'];
                $sql = "SELECT * FROM cart_pending WHERE BuyerId = $BuyerId ORDER BY id DESC";

                $result = mysqli_query($connforMyOnlineDb,$sql);
                $number = 1;

                if (mysqli_num_rows($result) > 0) {
                  while ($row = mysqli_fetch_assoc($result)) {

                      $Cartid = $row['id'];
                      $BuyerID = $row['BuyerId'];
                      $SellerId = $row['SellerId'];
                      $itemName = $row['item_name'];
                      $itemPrice = $row['item_price'];
                      $itemSource = $row['item_source'];
                      $BuyerFullname = $row['buyer_fullname'];
                      $BuyerLocation = $row['buyer_location'];
                      $BuyerAge = $row['buyer_age'];
                      $Seller = $row['seller'];
                      $GcashNumber = "0".$row['number'];
                      
                      
                     
                    
              
                      $table .= '<tr>
                          <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                          <td scope="row" class="text-center align-middle">' . $GcashNumber . '</td>
                          <td class="text-center align-middle">
                              <button class="btn btn-outline-success" style="box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);" onclick="ManagePayment('.$Cartid.','.$BuyerID.','.$SellerId.',\''.$itemName.'\',\''.$itemPrice.'\',\''.$itemSource.'\',\''.$BuyerFullname.'\',\''.$BuyerLocation.'\',\''.$BuyerAge.'\',\''.$Seller.'\',\''.$GcashNumber.'\')">Buy Product</button>
                              <button class = "btn btn-outline-danger"  style = "box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);" onclick = "DeleteCart('. $Cartid .')">Delete</button>
                          </td
                          
                      </tr>';
              
                      $number++;
              
              
                  }
              } else {
                  // If no data, display a row with "No Data Information"
                  $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
              }
              
                  $table .= '</tbody></table>';
                  echo $table;
                  echo '</div>';
    }


    // display cart for mlobile
    if(isset($_POST['displayCartForMobile']) && $_POST['displayCartForMobile'] == true){

        echo '<div style="max-height: 600px; max-width: 400px; font-size: 9px; position: relative; left: 0px; top: 20px; overflow-y: auto; " class="table">';
        $table = '<table class="table table-bordered table-hover">
                <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
                <tr> 
                    <th scope="col" class="text-center align-middle">Item Name</th>
                    <th scope="col" class="text-center align-middle">Item Price</th>
                    <th scope="col" class="text-center align-middle">Item Source</th>
                    <th scope="col" class="text-center align-middle">Buyer Gcash Number</th>
                    <th scope="col" class="text-center align-middle">Action</th>
                </tr>
                </thead>
                <tbody>';

                $BuyerId =  $_SESSION['id'];
                $sql = "SELECT * FROM cart_pending WHERE BuyerId = $BuyerId ORDER BY id DESC";

                $result = mysqli_query($connforMyOnlineDb,$sql);
                $number = 1;

                if (mysqli_num_rows($result) > 0) {
                  while ($row = mysqli_fetch_assoc($result)) {

                      $Cartid = $row['id'];
                      $BuyerID = $row['BuyerId'];
                      $SellerId = $row['SellerId'];
                      $itemName = $row['item_name'];
                      $itemPrice = $row['item_price'];
                      $itemSource = $row['item_source'];
                      $BuyerFullname = $row['buyer_fullname'];
                      $BuyerLocation = $row['buyer_location'];
                      $BuyerAge = $row['buyer_age'];
                      $Seller = $row['seller'];
                      $GcashNumber = "0".$row['number'];
                      
                      
                     
                    
              
                      $table .= '<tr>
                          <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                          <td scope="row" class="text-center align-middle">' . $GcashNumber . '</td>
                          <td class="text-center align-middle" style = "display:flex;">
                              <button class="btn btn-success" style="box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1); font-size: 9px; padding: 5px;" onclick="ManagePayment('.$Cartid.','.$BuyerID.','.$SellerId.',\''.$itemName.'\',\''.$itemPrice.'\',\''.$itemSource.'\',\''.$BuyerFullname.'\',\''.$BuyerLocation.'\',\''.$BuyerAge.'\',\''.$Seller.'\',\''.$GcashNumber.'\')" >Buy Product</button>
                              <button class = "btn btn-danger"  style = "box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1); font-size: 9px; padding: 5px;" onclick = "DeleteCart('. $Cartid .')">Delete</button>
                          </td
                          
                      </tr>';
              
                      $number++;
              
              
                  }
              } else {
                  // If no data, display a row with "No Data Information"
                  $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
              }
              
                  $table .= '</tbody></table>';
                  echo $table;
                  echo '</div>';
    }


    if(isset($_POST['toDeleteCart']) && $_POST['toDeleteCart'] == true){

            $cartIdToDelete = $_POST['CartId'];

            $delete = "DELETE FROM cart_pending WHERE id = $cartIdToDelete";
            mysqli_query($connforMyOnlineDb,$delete);
    }

    if(isset($_POST['ManagePayment']) && $_POST['ManagePayment'] == true){

            $cartId = $_POST['cartId'];
            $BuyerId = $_POST['BuyerId'];
            $SellerId = $_POST['SellerId'];
            $itemName = $_POST['itemName'];
            $itemPrice = $_POST['itemPrice'];
            $itemSource = $_POST['itemSource'];
            $buyerFullname = $_POST['buyerFullname'];
            $buyerLocation = $_POST['buyerLocation'];
            $buyerAge = $_POST['buyerAge'];
            $Seller = $_POST['Seller'];
            $GcashNumber = $_POST['GcashNumber'];


            $insertQuery = "
            INSERT INTO manage_payment (cartPendingId, BuyerId, SellerId, item_name, item_price, item_source, buyer_fullname, buyer_location, buyer_age, seller, number) 
            VALUES ('$cartId', '$BuyerId', '$SellerId', '$itemName', '$itemPrice', '$itemSource', '$buyerFullname', '$buyerLocation', '$buyerAge', '$Seller', '$GcashNumber'); 
            INSERT INTO order_pending (cartPendingId, BuyerId, SellerId, item_name, item_price, item_source, buyer_fullname, buyer_location, buyer_age, seller, number) 
            VALUES ('$cartId', '$BuyerId', '$SellerId', '$itemName', '$itemPrice', '$itemSource', '$buyerFullname', '$buyerLocation', '$buyerAge', '$Seller', '$GcashNumber');
            DELETE FROM cart_pending WHERE id = $cartId;
             ";
        
            mysqli_multi_query($connforMyOnlineDb, $insertQuery);
        
          

          
    }


    if(isset($_POST['DisplayPendingOrder']) && $_POST['DisplayPendingOrder'] == true){

      echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
      $table = '<table class="table table-bordered table-hover">
              <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
              <tr> 
                  <th scope="col" class="text-center align-middle">Item Name</th>
                  <th scope="col" class="text-center align-middle">Item Price</th>
                  <th scope="col" class="text-center align-middle">Item Source</th>
                  <th scope="col" class="text-center align-middle">Delivery Status</th>
                  <th scope="col" class="text-center align-middle">Action</th>
              </tr>
              </thead>
              <tbody>';

              $BuyerId =  $_SESSION['id'];
              $sql = "SELECT * FROM order_pending WHERE BuyerId = $BuyerId ORDER BY id DESC";

              $result = mysqli_query($connforMyOnlineDb,$sql);
              $number = 1;

              if (mysqli_num_rows($result) > 0) {
                while ($row = mysqli_fetch_assoc($result)) {

                    $Cartid = $row['id'];
                    $BuyerID = $row['BuyerId'];
                    $SellerId = $row['SellerId'];
                    $itemName = $row['item_name'];
                    $itemPrice = $row['item_price'];
                    $itemSource = $row['item_source'];
                    $BuyerFullname = $row['buyer_fullname'];
                    $BuyerLocation = $row['buyer_location'];
                    $BuyerAge = $row['buyer_age'];
                    $Seller = $row['seller'];
                    
                    
                   
                  
            
                    $table .= '<tr>
                        <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                        <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                        <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                        <td scope="row" class="text-center align-middle">P E N D I N G</td>         
                        <td class="text-center align-middle">
                            <button class="btn btn-outline-danger" style="box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);" onclick="Cancel('.$Cartid.','.$BuyerID.','.$SellerId.',\''.$itemName.'\',\''.$itemPrice.'\',\''.$itemSource.'\',\''.$BuyerFullname.'\',\''.$BuyerLocation.'\',\''.$BuyerAge.'\',\''.$Seller.'\')">Cancel</button>
                           
                        </tsuc
                        
                    </tr>';
            
                    $number++;
            
            
                }
            } else {
                // If no data, display a row with "No Data Information"
                $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
            }
            
                $table .= '</tbody></table>';
                echo $table;
                echo '</div>';

    }

    // for mobile pending
    if(isset($_POST['DisplayPendingOrderForMobile']) && $_POST['DisplayPendingOrderForMobile'] == true){

        echo '<div style="max-height: 600px; max-width: 400px; font-size: 11px; position: relative; left: 0px; top: 20px; overflow-y: auto; " class="table">';
        $table = '<table class="table table-bordered table-hover">
                <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
                <tr> 
                    <th scope="col" class="text-center align-middle">Item Name</th>
                    <th scope="col" class="text-center align-middle">Item Price</th>
                    <th scope="col" class="text-center align-middle">Item Source</th>
                    <th scope="col" class="text-center align-middle">Delivery Status</th>
                    <th scope="col" class="text-center align-middle">Action</th>
                </tr>
                </thead>
                <tbody>';
  
                $BuyerId =  $_SESSION['id'];
                $sql = "SELECT * FROM order_pending WHERE BuyerId = $BuyerId ORDER BY id DESC";
  
                $result = mysqli_query($connforMyOnlineDb,$sql);
                $number = 1;
  
                if (mysqli_num_rows($result) > 0) {
                  while ($row = mysqli_fetch_assoc($result)) {
  
                      $Cartid = $row['id'];
                      $BuyerID = $row['BuyerId'];
                      $SellerId = $row['SellerId'];
                      $itemName = $row['item_name'];
                      $itemPrice = $row['item_price'];
                      $itemSource = $row['item_source'];
                      $BuyerFullname = $row['buyer_fullname'];
                      $BuyerLocation = $row['buyer_location'];
                      $BuyerAge = $row['buyer_age'];
                      $Seller = $row['seller'];
                      
                      
                     
                    
              
                      $table .= '<tr>
                          <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                          <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                          <td scope="row" class="text-center align-middle">P E N D I N G</td>         
                          <td class="text-center align-middle">
                              <button class="btn btn-danger" style="box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1); font-size: 9px; padding: 5px;" onclick="Cancel('.$Cartid.','.$BuyerID.','.$SellerId.',\''.$itemName.'\',\''.$itemPrice.'\',\''.$itemSource.'\',\''.$BuyerFullname.'\',\''.$BuyerLocation.'\',\''.$BuyerAge.'\',\''.$Seller.'\')">Cancel</button>
                             
                          </tsuc
                          
                      </tr>';
              
                      $number++;
              
              
                  }
              } else {
                  // If no data, display a row with "No Data Information"
                  $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
              }
              
                  $table .= '</tbody></table>';
                  echo $table;
                  echo '</div>';
  
      }


    // PARA NE SA CANCELLATION SA ORDER SA PENDINNG ORDER
    if(isset($_POST['CancelOrder']) && $_POST['CancelOrder'] == true){

      $cartId = $_POST['cartId'];
      $BuyerId = $_POST['BuyerId'];
      $SellerId = $_POST['SellerId'];
      $itemName = $_POST['itemName'];
      $itemPrice = $_POST['itemPrice'];
      $itemSource = $_POST['itemSource'];
      $buyerFullname = $_POST['buyerFullname'];
      $buyerLocation = $_POST['buyerLocation'];
      $buyerAge = $_POST['buyerAge'];
      $Seller = $_POST['Seller'];


      $cancel = "INSERT INTO cancelled (cartPendingId,BuyerId,SellerId,item_name,item_price,item_source,buyer_fullname,buyer_location,buyer_age,seller) VALUES ('$cartId','$BuyerId','$SellerId','$itemName','$itemPrice','$itemSource','$buyerFullname','$buyerLocation','$buyerAge','$Seller')";
      mysqli_query($connForMyDatabase,$cancel);

      $cancelData = "DELETE FROM order_pending WHERE id = $cartId;
                      DELETE FROM manage_payment WHERE id = $cartId;   
      ";

      mysqli_multi_query($connforMyOnlineDb,$cancelData);
      


      header("Location: ../Buyer/cancel_order.php");
}



if(isset($_POST['displayTableForCancelledOrderList']) && $_POST['displayTableForCancelledOrderList'] == true){

  echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
  $table = '<table class="table table-bordered table-hover">
          <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
          <tr> 
              <th scope="col" class="text-center align-middle">Item Name</th>
              <th scope="col" class="text-center align-middle">Item Price</th>
              <th scope="col" class="text-center align-middle">Item Source</th>
              <th scope="col" class="text-center align-middle">Buyer Fullname</th>
              <th scope="col" class="text-center align-middle">Buyer Location</th>
              <th scope="col" class="text-center align-middle">Buyer Age</th>
              <th scope="col" class="text-center align-middle">Item Seller</th>
              <th scope="col" class="text-center align-middle">Time Cancelled</th>
              <th scope="col" class="text-center align-middle">Delivery Status</th>
              
          </tr>
          </thead>
          <tbody>';

          $BuyerId =  $_SESSION['id'];
          $sql = "SELECT * FROM cancelled WHERE BuyerId = $BuyerId ORDER BY id DESC";

          $result = mysqli_query($connForMyDatabase,$sql);
          $number = 1;

          if (mysqli_num_rows($result) > 0) {
            while ($row = mysqli_fetch_assoc($result)) {

                $Cartid = $row['id'];
                $BuyerID = $row['BuyerId'];
                $SellerId = $row['SellerId'];
                $itemName = $row['item_name'];
                $itemPrice = $row['item_price'];
                $itemSource = $row['item_source'];
                $BuyerFullname = $row['buyer_fullname'];
                $BuyerLocation = $row['buyer_location'];
                $BuyerAge = $row['buyer_age'];
                $cancelled = $row['time'];
                $Seller = $row['seller'];
                
                
               
              
        
                $table .= '<tr>
                    <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                    <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                    <td scope="row" class="text-center align-middle">' . $cancelled . '</td>
                    <td scope="row" class="text-center align-middle"><h6 style = "border: 2px solid red; padding: 5px;">Cancelled</h6></td>         
                   
                    
                </tr>';
        
                $number++;
        
        
            }
        } else {
            // If no data, display a row with "No Data Information"
            $table .= '<tr><td colspan="9" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
        }
        
            $table .= '</tbody></table>';
            echo $table;
            echo '</div>';
}


//mobile view 
if(isset($_POST['displayTableForCancelledOrderListForMobile']) && $_POST['displayTableForCancelledOrderListForMobile'] == true){

    echo '<div style="max-height: 600px; max-width: 400px; font-size: 11px; position: relative; left: 0px; top: 20px; overflow-y: auto; " class="table">';
    $table = '<table class="table table-bordered table-hover">
            <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
            <tr> 
                <th scope="col" class="text-center align-middle">Item Name</th>
                <th scope="col" class="text-center align-middle">Item Price</th>
                <th scope="col" class="text-center align-middle">Item Source</th>
                <th scope="col" class="text-center align-middle">Buyer Fullname</th>
                <th scope="col" class="text-center align-middle">Buyer Location</th>
                <th scope="col" class="text-center align-middle">Buyer Age</th>
                <th scope="col" class="text-center align-middle">Item Seller</th>
                <th scope="col" class="text-center align-middle">Time Cancelled</th>
                <th scope="col" class="text-center align-middle">Delivery Status</th>
                
            </tr>
            </thead>
            <tbody>';
  
            $BuyerId =  $_SESSION['id'];
            $sql = "SELECT * FROM cancelled WHERE BuyerId = $BuyerId ORDER BY id DESC";
  
            $result = mysqli_query($connForMyDatabase,$sql);
            $number = 1;
  
            if (mysqli_num_rows($result) > 0) {
              while ($row = mysqli_fetch_assoc($result)) {
  
                  $Cartid = $row['id'];
                  $BuyerID = $row['BuyerId'];
                  $SellerId = $row['SellerId'];
                  $itemName = $row['item_name'];
                  $itemPrice = $row['item_price'];
                  $itemSource = $row['item_source'];
                  $BuyerFullname = $row['buyer_fullname'];
                  $BuyerLocation = $row['buyer_location'];
                  $BuyerAge = $row['buyer_age'];
                  $cancelled = $row['time'];
                  $Seller = $row['seller'];
                  
                  
                 
                
          
                  $table .= '<tr>
                      <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                      <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                      <td scope="row" class="text-center align-middle">' . $cancelled . '</td>
                      <td scope="row" class="text-center align-middle"><h6 style = "border: 2px solid red; padding: 5px;">Cancelled</h6></td>         
                     
                      
                  </tr>';
          
                  $number++;
          
          
              }
          } else {
              // If no data, display a row with "No Data Information"
              $table .= '<tr><td colspan="9" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
          }
          
              $table .= '</tbody></table>';
              echo $table;
              echo '</div>';
  }


if(isset($_POST['displayOrderStatus']) && $_POST['displayOrderStatus'] == true){

  echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
  $table = '<table class="table table-bordered table-hover">
          <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
          <tr> 
              <th scope="col" class="text-center align-middle">Item Name</th>
              <th scope="col" class="text-center align-middle">Item Price</th>
              <th scope="col" class="text-center align-middle">Item Source</th>
              <th scope="col" class="text-center align-middle">Buyer Fullname</th>
              <th scope="col" class="text-center align-middle">Buyer Location</th>
              <th scope="col" class="text-center align-middle">Buyer Age</th>
              <th scope="col" class="text-center align-middle">Item Seller</th>
              <th scope="col" class="text-center align-middle">Delivery Rider</th>
              <th scope="col" class="text-center align-middle">Delivery Status</th>
              
          </tr>
          </thead>
          <tbody>';

          $BuyerId =  $_SESSION['id'];
          $sql = "SELECT * FROM confirmedorder WHERE BuyerId = '$BuyerId' AND status IS NOT NULL AND status != '' ";

          $result = mysqli_query($connforMyOnlineDb,$sql);
          $number = 1;

          if (mysqli_num_rows($result) > 0) {
            while ($row = mysqli_fetch_assoc($result)) {

                $Cartid = $row['id'];
                $BuyerID = $row['BuyerId'];
                $SellerId = $row['SellerId'];
                $itemName = $row['item_name'];
                $itemPrice = $row['item_price'];
                $itemSource = $row['item_source'];
                $BuyerFullname = $row['buyer_fullname'];
                $BuyerLocation = $row['buyer_location'];
                $BuyerAge = $row['buyer_age'];
                $Seller = $row['seller'];
                $status = $row['status'];
                $rider = $row['rider'];
                
                
               
              
        
                $table .= '<tr>
                    <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                    <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                    <td scope="row" class="text-center align-middle">' . $rider . '</td>

                    <td scope="row" class="text-center align-middle">'.$status.'</td>         
                   
                    
                </tr>';
        
                $number++;
        
        
            }
        } else {
            // If no data, display a row with "No Data Information"
            $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
        }
        
            $table .= '</tbody></table>';
            echo $table;
            echo '</div>';
}



// mobile ver 
if(isset($_POST['displayOrderStatusForMobile']) && $_POST['displayOrderStatusForMobile'] == true){

    echo '<div style="max-height: 600px; max-width: 400px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
    $table = '<table class="table table-bordered table-hover">
            <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
            <tr> 
                <th scope="col" class="text-center align-middle">Item Name</th>
                <th scope="col" class="text-center align-middle">Item Price</th>
                <th scope="col" class="text-center align-middle">Item Source</th>
                <th scope="col" class="text-center align-middle">Buyer Fullname</th>
                <th scope="col" class="text-center align-middle">Buyer Location</th>
                <th scope="col" class="text-center align-middle">Buyer Age</th>
                <th scope="col" class="text-center align-middle">Item Seller</th>
                <th scope="col" class="text-center align-middle">Delivery Rider</th>
                <th scope="col" class="text-center align-middle">Delivery Status</th>
                
            </tr>
            </thead>
            <tbody>';
  
            $BuyerId =  $_SESSION['id'];
            $sql = "SELECT * FROM confirmedorder WHERE BuyerId = '$BuyerId' AND status IS NOT NULL AND status != ''";
  
            $result = mysqli_query($connforMyOnlineDb,$sql);
            $number = 1;
  
            if (mysqli_num_rows($result) > 0) {
              while ($row = mysqli_fetch_assoc($result)) {
  
                  $Cartid = $row['id'];
                  $BuyerID = $row['BuyerId'];
                  $SellerId = $row['SellerId'];
                  $itemName = $row['item_name'];
                  $itemPrice = $row['item_price'];
                  $itemSource = $row['item_source'];
                  $BuyerFullname = $row['buyer_fullname'];
                  $BuyerLocation = $row['buyer_location'];
                  $BuyerAge = $row['buyer_age'];
                  $Seller = $row['seller'];
                  $status = $row['status'];
                  $rider = $row['rider'];
                  
                  
                 
                
          
                  $table .= '<tr>
                      <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                      <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                      <td scope="row" class="text-center align-middle">' . $rider . '</td>
  
                      <td scope="row" class="text-center align-middle">'.$status.'</td>         
                     
                      
                  </tr>';
          
                  $number++;
          
          
              }
          } else {
              // If no data, display a row with "No Data Information"
              $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
          }
          
              $table .= '</tbody></table>';
              echo $table;
              echo '</div>';
  }


if(isset($_POST['ApproveOrder'])   && $_POST['ApproveOrder'] == true){
  $cartId = $_POST['cartId'];
  $BuyerId = $_POST['BuyerId'];
  $SellerId = $_POST['SellerId'];
  $itemName = $_POST['itemName'];
  $itemPrice = $_POST['itemPrice'];
  $itemSource = $_POST['itemSource'];
  $buyerFullname = $_POST['buyerFullname'];
  $buyerLocation = $_POST['buyerLocation'];
  $buyerAge = $_POST['buyerAge'];
  $Seller = $_POST['Seller'];


  $cancel = "INSERT INTO complete_order (cartPendingId,BuyerId,SellerId,item_name,item_price,item_source,buyer_fullname,buyer_location,buyer_age,seller) VALUES ('$cartId','$BuyerId','$SellerId','$itemName','$itemPrice','$itemSource','$buyerFullname','$buyerLocation','$buyerAge','$Seller')";
  mysqli_query($connforMyOnlineDb,$cancel);

  $cancelData = "DELETE FROM confirmedorder WHERE id = $cartId";
  mysqli_query($connforMyOnlineDb,$cancelData);


  header("Location: ../Buyer/success_order.php");
}



if(isset($_POST['tableForCompleteDeliveries']) && $_POST['tableForCompleteDeliveries'] == true){
  echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 40px; overflow-y: auto; " class="table">';
  $table = '<table class="table table-bordered table-hover">
          <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
          <tr> 
              <th scope="col" class="text-center align-middle">Item Name</th>
              <th scope="col" class="text-center align-middle">Item Price</th>
              <th scope="col" class="text-center align-middle">Item Source</th>
              <th scope="col" class="text-center align-middle">Buyer Fullname</th>
              <th scope="col" class="text-center align-middle">Buyer Location</th>
              <th scope="col" class="text-center align-middle">Buyer Age</th>
              <th scope="col" class="text-center align-middle">Item Seller</th>
              <th scope="col" class="text-center align-middle">Delivery Success Date</th>
              <th scope="col" class="text-center align-middle">Delivery Status</th>
              
          </tr>
          </thead>
          <tbody>';

          $BuyerId =  $_SESSION['id'];
          $sql = "SELECT * FROM complete_order WHERE BuyerId = $BuyerId ORDER BY id DESC";

          $result = mysqli_query($connforMyOnlineDb,$sql);
          $number = 1;

          if (mysqli_num_rows($result) > 0) {
            while ($row = mysqli_fetch_assoc($result)) {

                $Cartid = $row['id'];
                $BuyerID = $row['BuyerId'];
                $SellerId = $row['SellerId'];
                $itemName = $row['item_name'];
                $itemPrice = $row['item_price'];
                $itemSource = $row['item_source'];
                $BuyerFullname = $row['buyer_fullname'];
                $BuyerLocation = $row['buyer_location'];
                $BuyerAge = $row['buyer_age'];
                $Seller = $row['seller'];
                $complete = $row['time'];
                
                
               
              
        
                $table .= '<tr>
                    <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                    <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                    <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                    <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                    <td scope="row" class="text-center align-middle">' . $complete . '</td>
                    <td scope="row" class="text-center align-middle"><h6 style = "border: 2px solid green; padding: 5px;">Delivery Complete</h6></td>         
                   
                    
                </tr>';
        
                $number++;
        
        
            }
        } else {
            // If no data, display a row with "No Data Information"
            $table .= '<tr><td colspan="9" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
        }
        
            $table .= '</tbody></table>';
            echo $table;
            echo '</div>';
}

// mobile

if(isset($_POST['tableForCompleteDeliveriesForMobile']) && $_POST['tableForCompleteDeliveriesForMobile'] == true){
    echo '<div style="max-height: 600px; max-width: 400px; font-size: 11px; position: relative; left: 0px; top: 20px; overflow-y: auto; " class="table">';
    $table = '<table class="table table-bordered table-hover">
            <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
            <tr> 
                <th scope="col" class="text-center align-middle">Item Name</th>
                <th scope="col" class="text-center align-middle">Item Price</th>
                <th scope="col" class="text-center align-middle">Item Source</th>
                <th scope="col" class="text-center align-middle">Buyer Fullname</th>
                <th scope="col" class="text-center align-middle">Buyer Location</th>
                <th scope="col" class="text-center align-middle">Buyer Age</th>
                <th scope="col" class="text-center align-middle">Item Seller</th>
                <th scope="col" class="text-center align-middle">Delivery Success Date</th>
                <th scope="col" class="text-center align-middle">Delivery Status</th>
                
            </tr>
            </thead>
            <tbody>';
  
            $BuyerId =  $_SESSION['id'];
            $sql = "SELECT * FROM complete_order WHERE BuyerId = $BuyerId ORDER BY id DESC";
  
            $result = mysqli_query($connforMyOnlineDb,$sql);
            $number = 1;
  
            if (mysqli_num_rows($result) > 0) {
              while ($row = mysqli_fetch_assoc($result)) {
  
                  $Cartid = $row['id'];
                  $BuyerID = $row['BuyerId'];
                  $SellerId = $row['SellerId'];
                  $itemName = $row['item_name'];
                  $itemPrice = $row['item_price'];
                  $itemSource = $row['item_source'];
                  $BuyerFullname = $row['buyer_fullname'];
                  $BuyerLocation = $row['buyer_location'];
                  $BuyerAge = $row['buyer_age'];
                  $Seller = $row['seller'];
                  $complete = $row['time'];
                  
                  
                 
                
          
                  $table .= '<tr>
                      <td scope="row" class="text-center align-middle">' . $itemName . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemPrice . '</td>
                      <td scope="row" class="text-center align-middle">' . $itemSource . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerFullname . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerLocation . '</td>
                      <td scope="row" class="text-center align-middle">' . $BuyerAge . '</td>
                      <td scope="row" class="text-center align-middle">' . $Seller . '</td>
                      <td scope="row" class="text-center align-middle">' . $complete . '</td>
                      <td scope="row" class="text-center align-middle"><h6 style = "border: 2px solid green; padding: 5px;">Delivery Complete</h6></td>         
                     
                      
                  </tr>';
          
                  $number++;
          
          
              }
          } else {
              // If no data, display a row with "No Data Information"
              $table .= '<tr><td colspan="9" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
          }
          
              $table .= '</tbody></table>';
              echo $table;
              echo '</div>';
  }

if(isset($_POST['ToMessage']) && $_POST['ToMessage'] == true){

  echo '<div style="max-height: 300px; max-width: 1200px; font-size: 11px; position: relative; left: 0px; top: 0px; overflow-y: auto; " class="table">';
  $table = '<table class="table table-bordered table-hover">
          <thead class="table-dark" id="table-header" style="position: sticky; top: 0; background-color: #343a40; color: white;">
          <tr> 
              <th scope="col" class="text-center align-middle">Seller No.</th>
              <th scope="col" class="text-center align-middle">Seller Picture</th>
              <th scope="col" class="text-center align-middle">Seller Name</th>
              <th scope="col" class="text-center align-middle">Seller Age</th>
              <th scope="col" class="text-center align-middle">Action</th>
          </tr>
          </thead>
          <tbody>';

          $sql = "SELECT * FROM seller_account";

          $result = mysqli_query($connForMyDatabase,$sql);
          $number = 1;

          if (mysqli_num_rows($result) > 0) {
            while ($row = mysqli_fetch_assoc($result)) {

              $seller_id = $row['id'];

                $table .= '<tr>
                    <td scope="row" class="text-center align-middle">' . $number . '</td>
                    <td scope="row" class="text-center align-middle">
                      <img src = '.$row['profile_pic'].' style = "height: 50px; width: 50px; border-radius: 10px; border: 1ps solid black; box-shadow: 0 4px 8px rgba(4, 4, 4, 1.1);">
                    </td>
                    <td scope="row" class="text-center align-middle">' . $row['fullname'] . '</td>
                    <td scope="row" class="text-center align-middle">' . $row['age'] . '</td>
                    <td scope="row" class="text-center align-middle">
                      <a href = "../Buyer/messanger.php?seller_id='.$seller_id.'" class = "btn btn-success">Message Seller</a>
                    </td>
                                        
                </tr>';
        
                $number++;
        
        
            }
        } else {
            // If no data, display a row with "No Data Information"
            $table .= '<tr><td colspan="8" class="text-center" style = "font-size: 20px; letter-spacing: 4px; background-color: #d95f57;">No Data Information</td></tr>';
        }
        
            $table .= '</tbody></table>';
            echo $table;
            echo '</div>';

}

if(isset($_POST['seeMessage']) && $_POST['seeMessage'] == true) {

  if(isset($_SESSION['id']) && isset($_POST['seller_id'])) {

      $buyerId = $_SESSION['id'];
      $sellerId = $_POST['seller_id'];

      $query = "SELECT * FROM message WHERE (sender = $sellerId AND reciever = $buyerId) OR (sender = $buyerId AND reciever = $sellerId)";
      $sql = mysqli_query($connForMyDatabase, $query);

      if(!$sql) {
          echo "Error: " . mysqli_error($connForMyDatabase);
      } else {
          while($check = mysqli_fetch_assoc($sql)) {
              if($check['sender'] == $sellerId) {
                  echo '

                      <div class = "messageBubble" style = "width: 500px; background-color: rgb(68, 75, 80); color: white; padding: 10px; border-radius: 10px; position: relative; right: -570px; margin: 10px;">
                        '.$check['mess'].'
                      </div>

                      <div class = "row" ></div>
                  
                  ';
              } else {
                echo '

                <div class = "messageBubble" style = "width: 500px; background-color: rgb(63, 108, 170); color: white; padding: 10px; border-radius: 10px; position: relative; left:0px; margin: 10px;">
                  '.$check['mess'].'
                </div>

                <div class = "row" ></div>
            
            ';
              }
          }
      }
  }else{
    echo "failed";
  }
}

if(isset($_POST['messageSent']) && $_POST['messageSent'] == true){

    $sellerId = $_POST['seller_id'];
    $buyerId = $_SESSION['id'];
    $txt = $_POST['message'];

    $sql = "INSERT INTO `message`( `sender`, `reciever`, `mess`) VALUES ('$buyerId','$sellerId','$txt')";
    mysqli_query($connForMyDatabase,$sql);

}

?>